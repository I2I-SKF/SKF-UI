<!-- <input type="file" (change)="handleFile($event)" accept=".xlsx">
<div id="output">
  <pre>{{ extractedData | json }}</pre>
</div> -->

<!-- 
<div  style="margin-bottom: 15px;" >
    <app-filter-bar class="col-sm-12 w-100" [component_details]="{name:'Edge Devices'}" [controlConfig]="formControls" ></app-filter-bar>
</div> -->

<div class="d-flex justify-content-between" style="margin-bottom: 15px">
  <span class="header-1">Alemite Edge Devices</span>
  <button class="action-button-1" (click)="addDevice()">Activate Device</button>
</div>

<div style="margin-bottom: 15px">
  <div class="w-100">
    <form
      [formGroup]="dispense_status_form"
      class="header-color row m-0 pt-1 pb-1"
      style="min-height: 50px"
    >
      <div class="col-sm-4">
        <span style="text-wrap: nowrap" for="">Device Status </span>
        <select
          (change)="onDispenseStatusChange($event)"
          formControlName="device_status"
          class="form-select input_border_class"
          name=""
          id=""
        >
          <option
            [value]="dispense.value"
            *ngFor="let dispense of dispense_statuses"
          >
            {{ dispense.viewValue }}
          </option>
        </select>
      </div>
      <div class="col-sm-4">
        <label class="alemite_label" for="">Search</label>
        <div
          class="input-group"
          style="width: unset; height: 38px; align-self: end"
        >
          <input
            (keyup)="onSearch($event)"
            #searchedValue
            type="text"
            class="form-control search-box"
            placeholder="Device ID"
            aria-label="Example text with button addon"
            aria-describedby="button-addon1"
          />
          <button
            (click)="onClickSearch(searchedValue.value)"
            class="btn search-button"
            type="button"
            id="button-addon1"
            style="height: 35px"
          >
            <img
              style="height: 100%"
              src="../../../../assets/imges/icons/basic_magnifier.svg"
              alt=""
            />
          </button>
        </div>
      </div>
    </form>

    <div style="overflow-x: auto">
      <table
        mat-table
        [dataSource]="dataSource"
        class="table table-striped"
        matSort
      >
        <ng-container
          *ngFor="let column of displayed_columns"
          [matColumnDef]="column"
        >
          <th mat-sort-header mat-header-cell *matHeaderCellDef>
            {{ column }}
          </th>
          <td mat-cell *matCellDef="let element">
            <ng-container *ngIf="column != 'Action'">
              {{ element[column] }}
            </ng-container>

            <div class="d-flex align-items-center" *ngIf="column == 'Action'">
              <button class="action-button-4 me-2" (click)="onEditButtonClick()">Edit</button>
              <button [routerLink]="'/feature/devices/device-actions'" (click)="setRowData(element['api_data'])" class="action-button-4 me-2" >Actions</button>
             
            </div>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayed_columns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayed_columns"></tr>
      </table>
    </div>
  </div>
  <div
    *ngIf="dataSource.data.length == 0"
    class="header-color d-flex align-items-end justify-content-center p-2 fw-bold"
  >
    No active edge device found in your account.
  </div>
  <mat-paginator
    style="border-bottom: 1px solid #383838"
    [pageSizeOptions]="[5, 10, 25, 100]"
    [pageSize]="10"
  ></mat-paginator>
</div>

<div class="d-flex justify-content-end">
  <button [disabled]="dataSource.data.length == 0" class="action-button-1">
    Download Device List
  </button>
</div>
